{"ast":null,"code":"import{useEffect,useState}from\"react\";import'./MineGrid.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Timer(_ref){let{allMinesIsolated,isBombClicked,isDarkMode,isPaused,setPausedState,onResetClick}=_ref;const[timer,setTimer]=useState(0);const checkTimer=()=>{let prevTimer=0;setTimer(prev=>{prevTimer=prev;return prev;});};useEffect(()=>{const id=setInterval(()=>{!allMinesIsolated&&!isPaused&&!isBombClicked&&setTimer(prev=>prev+1);},1000);return()=>{checkTimer();clearInterval(id);};},[allMinesIsolated,isBombClicked,isPaused]);const convertToTime=()=>{const seconds=Math.abs(timer%60);const minutes=Math.floor(timer/60)%60;const hours=Math.floor(timer/60)<60?0:Math.floor(Math.floor(timer/60)/60);return\"\".concat(hours<=9?\"0\".concat(hours):hours,\" : \").concat(minutes<=9?\"0\".concat(minutes):minutes,\" : \").concat(seconds<=9?\"0\".concat(seconds):seconds);};const returnBtnClass=()=>{if(isPaused){return\"play \".concat(isDarkMode?'timer-play-dark':'timer-play-light');}return\"pause \".concat(isDarkMode?'timer-pause-dark':'timer-pause-light');};const onResetGame=()=>{onResetClick();setTimer(0);};return/*#__PURE__*/_jsxs(\"div\",{className:\"timerContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"timer \".concat(isDarkMode?'timer-dark':'timer-light'),children:[convertToTime(),!isBombClicked&&/*#__PURE__*/_jsx(\"div\",{className:returnBtnClass(),onClick:()=>setPausedState(!isPaused)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"reset \".concat(!isDarkMode&&'reset-light'),onClick:onResetGame,children:/*#__PURE__*/_jsx(\"div\",{className:\"reset-end \".concat(!isDarkMode&&'reset-end-light')})})]});}","map":{"version":3,"names":["useEffect","useState","jsx","_jsx","jsxs","_jsxs","Timer","_ref","allMinesIsolated","isBombClicked","isDarkMode","isPaused","setPausedState","onResetClick","timer","setTimer","checkTimer","prevTimer","prev","id","setInterval","clearInterval","convertToTime","seconds","Math","abs","minutes","floor","hours","concat","returnBtnClass","onResetGame","className","children","onClick"],"sources":["/Users/anubhavkhanna/Desktop/Code Repos/MineMaster/src/Components/MineGrid/Timer.tsx"],"sourcesContent":["import { Dispatch, SetStateAction, useEffect, useState } from \"react\";\nimport './MineGrid.css'\n\nexport default function Timer(\n    {allMinesIsolated, isBombClicked, isDarkMode, isPaused, setPausedState, onResetClick}:\n    {\n      allMinesIsolated: boolean,\n      isBombClicked: boolean,\n      isDarkMode: boolean,\n      isPaused: boolean,\n      setPausedState: Dispatch<SetStateAction<boolean>>,\n      onResetClick: () => void\n    }\n  ) {\n  const [timer, setTimer] = useState(0);\n\n  const checkTimer = () => {\n    let prevTimer = 0;\n    setTimer((prev) => {\n      prevTimer = prev;\n      return prev;\n    });\n  };\n\n  useEffect(() => {\n    const id = setInterval(() => {\n      !allMinesIsolated && !isPaused && !isBombClicked && setTimer((prev) => prev + 1);\n    }, 1000);\n\n    return () => {\n      checkTimer();\n      clearInterval(id);\n    };\n  }, [allMinesIsolated, isBombClicked, isPaused]);\n\n  const convertToTime = () => {\n    const seconds = Math.abs(timer%60);\n    const minutes = (Math.floor(timer/60))%60;\n    const hours = Math.floor(timer/60) < 60 ? 0 : Math.floor(Math.floor(timer/60)/60);\n    return `${hours <= 9 ? `0${hours}` : hours} : ${minutes <= 9 ? `0${minutes}` : minutes} : ${seconds <= 9 ? `0${seconds}` : seconds}`;\n  }\n\n  const returnBtnClass = () => {\n    if(isPaused) {\n      return `play ${isDarkMode ? 'timer-play-dark' : 'timer-play-light'}`\n    }\n    return `pause ${isDarkMode ? 'timer-pause-dark' : 'timer-pause-light'}`\n  }\n\n  const onResetGame = () => {\n    onResetClick();\n    setTimer(0);\n  }\n\n  return (\n    <div className='timerContainer'>\n      <div className={`timer ${isDarkMode ? 'timer-dark' : 'timer-light'}`}>\n        {convertToTime()}\n        {!isBombClicked && (\n          <div className={returnBtnClass()} onClick={() => setPausedState(!isPaused)} />\n        )}\n      </div>\n      <div className={`reset ${!isDarkMode && 'reset-light'}`} onClick={onResetGame}>\n        <div className={`reset-end ${!isDarkMode && 'reset-end-light'}`} />\n      </div>\n    </div>\n  );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}