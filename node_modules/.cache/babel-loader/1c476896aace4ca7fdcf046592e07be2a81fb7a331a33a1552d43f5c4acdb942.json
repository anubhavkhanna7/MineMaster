{"ast":null,"code":"import{useEffect}from\"react\";import'./MineGrid.css';import{convertToTime}from\"../../utils/Utilities\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Timer(_ref){let{allMinesIsolated,isBombClicked,isDarkMode,isPaused,setPausedState,onResetClick,timer,setTimer}=_ref;const checkTimer=()=>{let prevTimer=0;setTimer(prev=>{prevTimer=prev;return prev;});};useEffect(()=>{const id=setInterval(()=>{if(!allMinesIsolated&&!isPaused&&!isBombClicked){setTimer(prev=>prev+1);}},1000);return()=>{checkTimer();clearInterval(id);};},[allMinesIsolated,isBombClicked,isPaused]);const returnBtnClass=()=>{if(isPaused){return\"play \".concat(isDarkMode?'timer-play-dark':'timer-play-light');}return\"pause \".concat(isDarkMode?'timer-pause-dark':'timer-pause-light');};const onResetGame=()=>{onResetClick();setTimer(0);};return/*#__PURE__*/_jsxs(\"div\",{className:\"timerContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"timer \".concat(isDarkMode?'timer-dark':'timer-light'),children:[convertToTime(timer),!isBombClicked&&/*#__PURE__*/_jsx(\"div\",{className:returnBtnClass(),onClick:()=>setPausedState(!isPaused)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"reset \".concat(!isDarkMode&&'reset-light'),onClick:onResetGame,children:/*#__PURE__*/_jsx(\"div\",{className:\"reset-end \".concat(!isDarkMode&&'reset-end-light')})})]});}","map":{"version":3,"names":["useEffect","convertToTime","jsx","_jsx","jsxs","_jsxs","Timer","_ref","allMinesIsolated","isBombClicked","isDarkMode","isPaused","setPausedState","onResetClick","timer","setTimer","checkTimer","prevTimer","prev","id","setInterval","clearInterval","returnBtnClass","concat","onResetGame","className","children","onClick"],"sources":["/Users/anubhavkhanna/Desktop/Code Repos/MineMaster/src/Components/MineGrid/Timer.tsx"],"sourcesContent":["import { Dispatch, MutableRefObject, SetStateAction, useEffect } from \"react\";\nimport './MineGrid.css'\nimport { convertToTime } from \"../../utils/Utilities\";\n\nexport default function Timer(\n    {allMinesIsolated, isBombClicked, isDarkMode, isPaused, setPausedState, onResetClick, timer, setTimer}:\n    {\n      allMinesIsolated: boolean,\n      isBombClicked: boolean,\n      isDarkMode: boolean,\n      isPaused: boolean,\n      setPausedState: Dispatch<SetStateAction<boolean>>,\n      onResetClick: () => void,\n      timer: number,\n      setTimer: Dispatch<SetStateAction<number>>,\n    }\n  ) {\n\n  const checkTimer = () => {\n    let prevTimer = 0;\n    setTimer((prev) => {\n      prevTimer = prev;\n      return prev;\n    });\n  };\n\n  useEffect(() => {\n    const id = setInterval(() => {\n      if (!allMinesIsolated && !isPaused && !isBombClicked) { \n        setTimer((prev) => prev + 1);\n      }\n    }, 1000);\n\n    return () => {\n      checkTimer();\n      clearInterval(id);\n    };\n  }, [allMinesIsolated, isBombClicked, isPaused]);\n\n  const returnBtnClass = () => {\n    if(isPaused) {\n      return `play ${isDarkMode ? 'timer-play-dark' : 'timer-play-light'}`\n    }\n    return `pause ${isDarkMode ? 'timer-pause-dark' : 'timer-pause-light'}`\n  }\n\n  const onResetGame = () => {\n    onResetClick();\n    setTimer(0);\n  }\n\n  return (\n    <div className='timerContainer'>\n      <div className={`timer ${isDarkMode ? 'timer-dark' : 'timer-light'}`}>\n        {convertToTime(timer)}\n        {!isBombClicked && (\n          <div className={returnBtnClass()} onClick={() => setPausedState(!isPaused)} />\n        )}\n      </div>\n      <div className={`reset ${!isDarkMode && 'reset-light'}`} onClick={onResetGame}>\n        <div className={`reset-end ${!isDarkMode && 'reset-end-light'}`} />\n      </div>\n    </div>\n  );\n}"],"mappings":"AAAA,OAAqDA,SAAS,KAAQ,OAAO,CAC7E,MAAO,gBAAgB,CACvB,OAASC,aAAa,KAAQ,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEtD,cAAe,SAAS,CAAAC,KAAKA,CAAAC,IAAA,CAYzB,IAXA,CAACC,gBAAgB,CAAEC,aAAa,CAAEC,UAAU,CAAEC,QAAQ,CAAEC,cAAc,CAAEC,YAAY,CAAEC,KAAK,CAAEC,QAU7F,CAAC,CAAAR,IAAA,CAGH,KAAM,CAAAS,UAAU,CAAGA,CAAA,GAAM,CACvB,GAAI,CAAAC,SAAS,CAAG,CAAC,CACjBF,QAAQ,CAAEG,IAAI,EAAK,CACjBD,SAAS,CAAGC,IAAI,CAChB,MAAO,CAAAA,IAAI,CACb,CAAC,CAAC,CACJ,CAAC,CAEDlB,SAAS,CAAC,IAAM,CACd,KAAM,CAAAmB,EAAE,CAAGC,WAAW,CAAC,IAAM,CAC3B,GAAI,CAACZ,gBAAgB,EAAI,CAACG,QAAQ,EAAI,CAACF,aAAa,CAAE,CACpDM,QAAQ,CAAEG,IAAI,EAAKA,IAAI,CAAG,CAAC,CAAC,CAC9B,CACF,CAAC,CAAE,IAAI,CAAC,CAER,MAAO,IAAM,CACXF,UAAU,CAAC,CAAC,CACZK,aAAa,CAACF,EAAE,CAAC,CACnB,CAAC,CACH,CAAC,CAAE,CAACX,gBAAgB,CAAEC,aAAa,CAAEE,QAAQ,CAAC,CAAC,CAE/C,KAAM,CAAAW,cAAc,CAAGA,CAAA,GAAM,CAC3B,GAAGX,QAAQ,CAAE,CACX,cAAAY,MAAA,CAAeb,UAAU,CAAG,iBAAiB,CAAG,kBAAkB,EACpE,CACA,eAAAa,MAAA,CAAgBb,UAAU,CAAG,kBAAkB,CAAG,mBAAmB,EACvE,CAAC,CAED,KAAM,CAAAc,WAAW,CAAGA,CAAA,GAAM,CACxBX,YAAY,CAAC,CAAC,CACdE,QAAQ,CAAC,CAAC,CAAC,CACb,CAAC,CAED,mBACEV,KAAA,QAAKoB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BrB,KAAA,QAAKoB,SAAS,UAAAF,MAAA,CAAWb,UAAU,CAAG,YAAY,CAAG,aAAa,CAAG,CAAAgB,QAAA,EAClEzB,aAAa,CAACa,KAAK,CAAC,CACpB,CAACL,aAAa,eACbN,IAAA,QAAKsB,SAAS,CAAEH,cAAc,CAAC,CAAE,CAACK,OAAO,CAAEA,CAAA,GAAMf,cAAc,CAAC,CAACD,QAAQ,CAAE,CAAE,CAC9E,EACE,CAAC,cACNR,IAAA,QAAKsB,SAAS,UAAAF,MAAA,CAAW,CAACb,UAAU,EAAI,aAAa,CAAG,CAACiB,OAAO,CAAEH,WAAY,CAAAE,QAAA,cAC5EvB,IAAA,QAAKsB,SAAS,cAAAF,MAAA,CAAe,CAACb,UAAU,EAAI,iBAAiB,CAAG,CAAE,CAAC,CAChE,CAAC,EACH,CAAC,CAEV"},"metadata":{},"sourceType":"module","externalDependencies":[]}